\chapter{Categories of Compass Checkers}
All available Compass checkers can be roughly categorized as follows:

\section{Common Styles}
\begin{itemize}
\item forLoopConstructionControlStmt: for () loop must only include statements that control the loop or related to the loop control
\item inductionVariableUpdate: Do not alter a control variable more than once in a loop
\item uninitializedDefinition: Always initial variables at their initial declaration
\item unaryMinus: Do not use unary minus on unsigned types
\item noGoto: Do not use goto
\item nonAssociativeRelationalOperators: Do not associate relational
operators (e.g. $a==b==c$)
\item magicNumber: Avoid using integer or floating point literals outside of initializer expressions.
\item nameAllParameters: Every function parameters should has a name in a function declaration
\item oneLinePerDeclaration: Do not declare more than one variable in a single declaration statement. 
\item placeConstantOnTheLhs: Always put constant on the left side for comparison expressions
\item functionDefinitionPrototype: Every function should have a function prototype
\end{itemize}

\section{C styles}
\begin{itemize}
\item allocateAndFreeMemoryInTheSameModule: malloc()/ free() in a same piece of code to avoid mismatch
\item discardAssignment: assignment operator should be used as a stand-alone expression statement.
\item setPointersToNull: Always set pointers to NULL after they have been freed by free()
\end{itemize}

\section{C++ styles}
\begin{itemize}
\item assignmentOperatorCheckSelf: check self-assignment in assignment operator
\item assignmentReturnConstThis:  operator= return type
\item booleanIsHas: functions returning boolean should have names like isXXX or hasXXX
\item constCast: should never cast the constness away
\item constructorDestructorCallsVirtualFunction : Don't directly/indirectly call virtual functions from constructors or destructors: pure virtual function become undefined behaviors
\item copyConstructorConstArg: copy constructors should use const reference as an argument
\item cppCallsSetjmpLongjmp: should not use C style setjmp() and long jmp() in C++ code
\item dataMemberAccess: Good classes should not have both public and non-public data members. 
\item defaultConstructor: Each class should have a user defined default constructor
\item doNotUseCstyleCasts: Do not use C-style casts in C++ code
\item dynamicCast: Downcast should be done using a dynamic cast
\item enumDeclarationNamespaceClassScope: enum types should be declared within a class or namespace. 
\item explicitCopy: A class should have a user-defined copy constructor and a copy operator, unless annotated to use default ones
\item forLoopCppIndexVariableDeclaration: C++ loop index variable should be declared in for (...)
\item friendDeclarationModifier: Avoid using friend declarations
\item internalDataSharing: Class member functions should not expose data member handles
\item voidStar: Public methods should not use void* for arguments or return types. 
\item noExceptions: Avoid using C++ exceptions
\item nonmemberFunctionInterfaceNamespace: Keep classes and their non-member interfaces (friend functions) within the same namespace
\item multiplePublicInheritance: Avoid multiple public inheritance
\item noTemplateUsage: Do not use C++ templates
\item protectVirtualMethods: Do not expose virtual methods as public interface
\item singleParameterConstructorExplicitModifier: Single parameter constructor used as converting constructor should have the 'explicit' modifier
\end{itemize}

\section{Correctness}
\begin{itemize}
\item cycleDetection: control flow graph of code should not contain cycles
\item defaultCase: Each switch statement should have a default case
\item doNotCallPutenvWithAutoVar: Do not use an auto/local variable as the parameter of putenv()
\item noExitInMpiCode: No exit() from within a parallel code portion (MPI)
\item sizeOfPointer: Do not computing sizeof(pointer) when you want to get the size of object pointed to. 
\item newDelete: Detect several common mistakes when using new, delete: deleting array using delete, not delete[]; deleting NULL pointers; deleting uninitialized pointers
\item mallocReturnValueUsedInIfStmt: Always check the return value for malloc() and new
\item nullDeref: Several checkers for NULL pointers: checking a pointer's validity before dereferencing it; Do not reference unitialized variables
\item floatingPointExactComparison: Avoid exact comparisons between a variable to a floating point value
\item floatForLoopCounter:  floating point variables should not be used as loop counters
\end{itemize}

\section{OpenMP}
\begin{itemize}
\item ompPrivateLock: locks within parallel regions should be be private
\end{itemize}

\section{Security}
\begin{itemize}
\item allowedFunctions: security analysis, limit the use to a set of allowed functions
\item forbiddenFunctions: Avoid using a set of dangerous functions
\item avoidUsingTheSameHandlerForMultipleSignals: dedicated handler for each signal
\item constStringLiterals: protect string literals using const qualification
\item doNotDeleteThis: Do not delete 'this' pointer
\item functionCallAllocatesMultipleResources: Avoid allocating multiple resources within a single statement(e.g. a function call)
\item rightShiftMask: Always use a shift mask for $>>$ to avoid buffer overflow
\end{itemize}

\section{Portability}
\begin{itemize}
\item charStarForString: C strings must be used instead of STL strings
\item fopenFormatParameter: Format parameter of fopen() should not contain non-portable value
\item noAsmStmtsOps: warn the use of embedded assembly code
\end{itemize}

\section{Clarity}
\begin{itemize}
\item explicitTestForNonBooleanValue: Non-boolean values should be compared to explicit values of the same type. 
\item localizedVariables: Variable declaration should be close to its first use.
\item functionDocumentation: Every function should have documentation/comments
\item variableNameEqualsDatabaseName: Member functions accessing local variables that get assigned. The result of the function call should have a name equal to the first argument
\item ternaryOperator: Prefer explicit conditional statements to ternary operator a?x:y
\end{itemize}

\section{Complexity}
\begin{itemize}
\item computationalFunctions: check functions exceeding max allowed computation operations
\item cyclomaticComplexity: a function should not exceed a complexity threshold
\item deepNesting: functions should not exceed a threshold for scopes inside its body. (too complex)
\item locPerFunction: A function should not contain code exceeding a line count threshold
\end{itemize}

\section{Consistency}
\begin{itemize}
\item lowerRangeLimit: Always use inclusive lower limits and exclusive upper limits
\item upperRangeLimit: same as lower range limit: always using inclusive lower limits and exclusive upper limit
\item otherArgument: Always name the parameter as 'other', 'that', or lower case of the class name, for copy constructors
\end{itemize}

\section{Better choices}
\begin{itemize}
\item stringTokenToIntegerConverter: Prefer strtol()/strtoll() to atoi()/atol()/atoll() for better error handling
\item preferFseekToRewind: Prefer fseek() to rewind() since fseek() has return code
\item preferSetvbufToSetbuf: Prefer setvbuf() to setbuf() for better error checking
\item preferAlgorithms: Warning hand writing loops when equivalent STL algorithms exist
\end{itemize}

\section{Dangerous choices}
\begin{itemize}
\item commaOperator: avoid using this confusing language features (,)
\item noSecondTermSideEffects: No side effects for second (and beyond)
logical operator in expressions with combined \&\$ and ||. 
\item noSideEffectInSizeof: Should not have side effects in sizeof(). 
\item noVariadicFunctions: Do not use variadic functions: functions with varying parameter lists
\item noVfork: Do not use vfork()
\item operatorOverloading: Avoid operator overloading for \&\&, ||, or , . 
\item pointerComparison: Avoid error-prone pointer comparison using
$<$,$>$, $<=$,and $>=$
\item noRand: Do not use the rand() function, 
\item byteByByteStructureComparison: avoid byte-to-byte comparison between structures, they maybe padded.
\item nonVirtualRedefinition: Do not redefine an inherited non-virtual functions in a class hierarchy.
\item noOverloadAmpersand: Operator \& should not be overloaded
\end{itemize}

\section{Performance/Effectiveness}
\begin{itemize}
\item controlVariableTestAgainstFunction: Warning about loop control by comparing to a function call
\item emptyInsteadOfSize: Using container.empty() instead of container.size()==0  
\item pushBack: Warning the use of container.insert()/resize() which can be
replaced by push\_back() or push\_front()
\item nonStandardTypeRefArgs: Always pass objects by references, C++
\item nonStandardTypeRefReturns: Always return objects by references, C++ 
\end{itemize}

\section{Misc or Undocumented}
\begin{itemize}
\item duffsDevice: Detect Duffs Device(a switch statement containing a loop that contains one of the switch's case or default labels.)
\item explicitCharSign: ??
\item fileReadOnlyAccess: Readonly access to fopen(), used internally for Compass Verifier
\item time\_tDirectManipulation: Do not directly manipulate time\_t values. Use difftime()
\item nameConsistency: 
\item possiblyReplicatedVariables: 
\item staticConstructorInitialization: 
\item subExpressionEvaluationOrder: 
\item typeTypedef: 
\item binaryBufferOverflow
\item binaryInterruptAnalysis
\item binPrintAsmFunctions
\item binPrintAsmInstruction
\item asynchronousSignalHandler
\item bufferOverflowFunctions
\end{itemize}
