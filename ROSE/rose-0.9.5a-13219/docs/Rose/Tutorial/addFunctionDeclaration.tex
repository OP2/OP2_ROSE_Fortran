\clearpage
\section{Functions}
This section shows how to add a function at the top of a global scope in a
file. Again, examples for both high level and low level constructions of AST are given.
\begin{itemize}
\item Figure~\ref{Tutorial:exampleAddFunctionDeclaration2} shows the high
level construction of a defining function (a function  with a function
    body). Scope information is passed to builder functions explicitly when
it is needed.
%---------------------example 2. ----------------------
\begin{figure}[!h]
{\indent
{\mySmallestFontSize
% Do this when processing latex to generate non-html (not using latex2html)
\begin{latexonly}
  \lstinputlisting{\TutorialExampleDirectory/addFunctionDeclaration2.C}
\end{latexonly}

% Do this when processing latex to build html (using latex2html)
\begin{htmlonly}
   \verbatiminput{\TutorialExampleDirectory/addFunctionDeclaration2.C}
\end{htmlonly}

% end of scope in font size
}
% End of scope in indentation
}
\caption{Addition of function to global scope using high level interfaces}
\label{Tutorial:exampleAddFunctionDeclaration2}
\end{figure}


\item Figure~\ref{Tutorial:exampleAddFunctionDeclaration3} shows almost the
same high level construction of the defining function, but with an
additional scope stack. 
 Scope information is passed to builder functions implicitly when
it is needed.
%---------------------example 3. ----------------------
\begin{figure}[!h]
{\indent
{\mySmallestFontSize
% Do this when processing latex to generate non-html (not using latex2html)
\begin{latexonly}
  \lstinputlisting{\TutorialExampleDirectory/addFunctionDeclaration3.C}
\end{latexonly}

% Do this when processing latex to build html (using latex2html)
\begin{htmlonly}
   \verbatiminput{\TutorialExampleDirectory/addFunctionDeclaration3.C}
\end{htmlonly}

% end of scope in font size
}
% End of scope in indentation
}
\caption{Addition of function to global scope using high level interfaces
  and a scope stack}
\label{Tutorial:exampleAddFunctionDeclaration3}
\end{figure}


\item  The low level construction of the AST fragment of the same function 
declaration and its insertion 
is separated into two portions and shown in two figures 
(Figure~\ref{Tutorial:exampleAddFunctionDeclarationA} and
Figure~\ref{Tutorial:exampleAddFunctionDeclarationB} ).
%---------------------example 1. part 1----------------------
\begin{figure}[!h]
{\indent
{\mySmallestFontSize
% Do this when processing latex to generate non-html (not using latex2html)
\begin{latexonly}
%  \lstinputlisting{\TutorialExampleDirectory/addFunctionDeclaration.C}
   \lstinputlisting{\TutorialExampleBuildDirectory/addFunctionDeclaration.aa}
\end{latexonly}

% Do this when processing latex to build html (using latex2html)
\begin{htmlonly}
   \verbatiminput{\TutorialExampleDirectory/addFunctionDeclaration.C}
\end{htmlonly}

% end of scope in font size
}
% End of scope in indentation
}
\caption{Example source code shows addition of function to global scope (part 1).}
\label{Tutorial:exampleAddFunctionDeclarationA}
\end{figure}

%--------------------------example 1. part 2----------------------
\begin{figure}[!h]
{\indent
{\mySmallestFontSize
% Do this when processing latex to generate non-html (not using latex2html)
\begin{latexonly}
%  \lstinputlisting{\TutorialExampleDirectory/addFunctionDeclaration.C}
   \lstinputlisting{\TutorialExampleBuildDirectory/addFunctionDeclaration.ab}
\end{latexonly}

% Do this when processing latex to build html (using latex2html)
\begin{htmlonly}
   \verbatiminput{\TutorialExampleDirectory/addFunctionDeclaration.C}
\end{htmlonly}

% end of scope in font size
}
% End of scope in indentation
}
\caption{Example source code shows addition of function to global scope (part 2).}
\label{Tutorial:exampleAddFunctionDeclarationB}
\end{figure}


\end{itemize}

Figure~\ref{Tutorial:exampleInputCode_AddFunctionDeclaration} and 
Figure~\ref{Tutorial:exampleOutput_AddFunctionDeclaration} 
give the input code and output result for the
translators above.

%---------------------- input code--------------------------
\begin{figure}[!h]
{\indent
{\mySmallFontSize


% Do this when processing latex to generate non-html (not using latex2html)
\begin{latexonly}
   \lstinputlisting{\TutorialExampleDirectory/inputCode_AddFunctionDeclaration.C}
\end{latexonly}

% Do this when processing latex to build html (using latex2html)
\begin{htmlonly}
   \verbatiminput{\TutorialExampleDirectory/inputCode_AddFunctionDeclaration.C}
\end{htmlonly}

% end of scope in font size
}
% End of scope in indentation
}
\caption{Example source code used as input to translator adding new function.}
\label{Tutorial:exampleInputCode_AddFunctionDeclaration}
\end{figure}

%-----------------------output code----------------------------------
\begin{figure}[!h]
{\indent
{\mySmallFontSize


% Do this when processing latex to generate non-html (not using latex2html)
\begin{latexonly}
   \lstinputlisting{\TutorialExampleBuildDirectory/rose_inputCode_AddFunctionDeclaration.C}
\end{latexonly}

% Do this when processing latex to build html (using latex2html)
\begin{htmlonly}
   \verbatiminput{\TutorialExampleBuildDirectory/rose_inputCode_AddFunctionDeclaration.C}
\end{htmlonly}

% end of scope in font size
}
% End of scope in indentation
}
\caption{Output of input to translator adding new function.}
\label{Tutorial:exampleOutput_AddFunctionDeclaration}
\end{figure}


